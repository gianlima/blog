{
  "hash": "197742026979159d83dcabb4ee3bf1ae",
  "result": {
    "markdown": "---\ntitle: \"What I change on a panel figure for a paper\"\nauthor: \"Gian Lima\"\ndate: \"2023-07-21\"\ncategories: [paper,ggplot2]\ntoc: true\ntoc-depth: 5\ntoc-location: right\ncode-fold: false\ncode-overflow: wrap\npage-layout: article\n---\n\n\n\n\nText text text\n\n## My fake data\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# library\nlibrary(tidyverse)\nlibrary(ggh4x)\n\nset.seed(4)\nx <- rnorm(100, 50, 10)\ny <- rnorm(100, 200, 2)\ngroup <- sample(LETTERS[1:4], size = 100, replace = T)\nyear <- sample(c(2020:2021), size = 100, replace = T)\n\ndf <- data.frame(x,y,group,year)\n```\n:::\n\n\n## Standard ggplot\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  ggplot(aes(x,y)) +\n  geom_point() +\n  facet_grid(group~year)\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-2-1.png){width=672}\n:::\n:::\n\n\n## Common changes to make\n\nSo I thought of some common changes considering a figure with panels.\n\n![](ggplot_instructions.png)\n\n## New figure\n\n\n::: {.cell}\n\n```{.r .cell-code}\ndf %>% \n  ggplot(aes(x,y)) +\n  geom_point() +\n  facet_grid2(group~year, axes = \"all\", remove_labels = \"all\") + # change 18 \n  scale_x_continuous(breaks = seq(30,75,10), # change 12 \n                     minor_breaks = seq(30,75,5), # change 11 \n                     guide = \"axis_minor\", # change 11\n                     limits = c(30,75)) + \n  scale_y_continuous(breaks = seq(190,210,5), # change 8 \n                     minor_breaks = seq(190,210,1), # change 7 \n                     guide = \"axis_minor\", # change 7 \n                     limits = c(190,210)) +\n  # change 19\n  theme(panel.border = element_rect(linewidth = 1, colour = \"black\", fill = NA))+\n  # size of axis text\n  theme(axis.text =element_text(face=\"plain\",size=12, colour=\"black\"))+\n  theme(panel.background = element_rect(fill = \"transparent\"),\n        plot.background = element_rect(fill = \"white\", color = NA)) + # change 2\n  # change 15 and 16\n  theme(strip.text = element_text(size = 12, color = \"black\", face = \"bold\")) +\n  theme(strip.text.y = element_text(angle = 90)) + # change 17\n  theme(strip.background = element_blank()) + # change 14\n  theme(axis.ticks.length.x = unit(0.3, \"cm\"), # change 10 \n        axis.ticks.length.y = unit(0.2, \"cm\"), # change 10 \n        ggh4x.axis.ticks.length.minor = rel(0.5)) + # size of minor ticks\n  labs(y = \"Variable Y\", x = \"Variable X\") # change 9 and 13\n```\n\n::: {.cell-output-display}\n![](index_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\nIn case I don't remember any element, I usually go check [this app](https://ggplot2tor.com/theme) on GGPLOT2TOR+.\n\n::: callout-note\nIn this case, the groups are represented by only one letter (A, B, C and D), so I could have changed the angle, but in case it's a word, I prefer `angle = 90`.\n:::\n\n\n\n\n",
    "supporting": [
      "index_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}